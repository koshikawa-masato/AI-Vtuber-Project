================================================================================
RAG Implementation Comparison Benchmark
================================================================================

Test queries (5):
  1. VTuberé…ä¿¡ã®å¤¢
  2. å¤§é˜ªæ—…è¡Œã®æ€ã„å‡º
  3. éŸ³æ¥½åˆ¶ä½œã®çµŒé¨“
  4. ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦
  5. ãŠå§‰ã¡ã‚ƒã‚“ã¨ã®ä¼šè©±

[1/2] Benchmarking Original Implementation...
--------------------------------------------------------------------------------
[MemoryRetrievalLogicDual] Initialized for botan using Original (Custom Scoring)
[MemoryRetrievalLogicDual] Memory table: botan_memories
  Measuring query speed...
  Measuring memory usage...
  âœ… Original benchmark complete

[2/2] Benchmarking LangChain Implementation...
--------------------------------------------------------------------------------
[LangChain] Initializing ChromaDB VectorStore...
[LangChain] Populating VectorStore for botan...
[LangChain] Added 116 documents to VectorStore
[MemoryRetrievalLogicDual] Initialized for botan using LangChain (VectorStore)
[MemoryRetrievalLogicDual] Memory table: botan_memories
  Measuring query speed...
  Measuring memory usage...
  âœ… LangChain benchmark complete

================================================================================
BENCHMARK RESULTS
================================================================================

ğŸ“Š Query Speed:
  Original:  0.0011 sec/query
  LangChain: 0.0949 sec/query
  â†’ Original is 8555.1% faster

ğŸ’¾ Memory Usage:
  Original:  93.5 MB
  LangChain: 146.8 MB
  â†’ LangChain uses 57.1% more memory

ğŸ“ Code Complexity:
  Original:  ~450 lines
  LangChain: ~150 lines
  â†’ LangChain reduces code by 66.7%

ğŸ¯ Retrieval Quality (Sample Query: 'VTuberé…ä¿¡ã®å¤¢'):
  Original top memory:  Event #101 (score: 0.525)
  LangChain top memory: Event #99 (score: 0.427)
  Overlap ratio: 0.0% (0/5 memories)

================================================================================
SUMMARY TABLE
================================================================================

| Metric            | Original      | LangChain     | Winner       |
|-------------------|---------------|---------------|--------------|
| Query Speed       | 0.0011 s     | 0.0949 s     | Original     |
| Memory Usage      | 93.5 MB      | 146.8 MB      | Original     |
| Code Lines        | ~450 lines   | ~150 lines   | LangChain    |
| Top Score         | 0.525         | 0.427         | Original     |

================================================================================
CONCLUSION
================================================================================

âœ… Both implementations successfully retrieve relevant memories
âœ… LangChain offers code simplicity and standard framework benefits
âœ… Original offers fine-grained control andç‰¡ä¸¹-specific optimizations

ğŸ“Œ Recommendation:
   - Use LangChain for: Rapid prototyping, team collaboration, standard RAG
   - Use Original for: Custom logic,ç‰¡ä¸¹'s unique features, full control

================================================================================
