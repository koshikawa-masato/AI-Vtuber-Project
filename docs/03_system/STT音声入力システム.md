# STT音声入力システム - 三姉妹対話用マイクチューニング

> 三姉妹（牡丹・花相・百合）との音声対話において、高品質な音声認識（STT: Speech-to-Text）を実現するためのマイクエフェクトチェーン設定

**作成日**: 2025-11-15
**対象**: ライブ配信・STT音声入力
**DAW**: Ableton Live
**使用プラグイン**: Waves（NS1, RDeEsser）, UAD（1176, LA-2A）

---

## 📋 目次

1. [概要](#概要)
2. [シグナルチェーン全体像](#シグナルチェーン全体像)
3. [各エフェクトの詳細設定](#各エフェクトの詳細設定)
4. [STT（音声認識）との関係](#stt音声認識との関係)
5. [調整のコツ](#調整のコツ)
6. [トラブルシューティング](#トラブルシューティング)

---

## 概要

### 目的

三姉妹との音声対話システムにおいて、以下を実現する：

1. **ノイズの除去**: 環境ノイズ（エアコン、PCファン等）を最小化
2. **音量の均一化**: 大声・小声の音量差を抑える
3. **明瞭性の向上**: 音声認識（STT）の精度を向上
4. **サ行の最適化**: 歯擦音による認識エラーを防ぐ
5. **音割れ防止**: ピークをリミッターで制御

### 使用機材

- **マイク**: コンデンサマイク
- **オーディオインターフェース**: 任意（UAD Apolloでなくても可）
- **DAW**: Ableton Live
- **プラグイン**:
  - Ableton Live 標準（EQ Eight, Gate, Limiter）
  - Waves NS1 Noise Suppressor
  - UAD 1176 Compressor（Native動作、ハードウェア不要）
  - UAD LA-2A Compressor（Native動作、ハードウェア不要）
  - Waves Renaissance DeEsser

---

## シグナルチェーン全体像

```
マイク入力（コンデンサマイク）
  ↓
┌─────────────────────────────────────┐
│ 1. EQ Eight (Ableton Live)          │ ← 不要な低域カット
└─────────────────────────────────────┘
  ↓
┌─────────────────────────────────────┐
│ 2. Gate (Ableton Live)              │ ← ノイズフロアをカット
└─────────────────────────────────────┘
  ↓
┌─────────────────────────────────────┐
│ 3. NS1 (Waves)                      │ ← 環境ノイズ除去
└─────────────────────────────────────┘
  ↓
┌─────────────────────────────────────┐
│ 4. 1176 (UAD)                       │ ← 速いコンプレッション
└─────────────────────────────────────┘
  ↓
┌─────────────────────────────────────┐
│ 5. LA-2A (UAD)                      │ ← 滑らかなコンプレッション
└─────────────────────────────────────┘
  ↓
┌─────────────────────────────────────┐
│ 6. Renaissance DeEsser (Waves)      │ ← サ行処理
└─────────────────────────────────────┘
  ↓
┌─────────────────────────────────────┐
│ 7. Limiter (Ableton Live)           │ ← 音割れ防止
└─────────────────────────────────────┘
  ↓
STT（音声認識システム）/ 配信ソフト（OBS等）
```

---

## 各エフェクトの詳細設定

### 1. EQ Eight (Ableton Live標準)

**役割**: 不要な低域ノイズのカット、明瞭性の向上

**設定**:
```
ハイパスフィルター (Low Cut):
  - 周波数: 80-100Hz
  - スロープ: 12dB/oct または 24dB/oct
  - 目的: ゴロゴロとした低域ノイズ、リップノイズを除去

オプション（必要に応じて）:
  - 200-300Hz: -2〜-3dB（こもりを除去）
  - 3-5kHz: +1〜+2dB（明瞭さ向上、STT認識率向上）
```

**STTとの関係**:
- 低域ノイズはSTTの認識精度を下げる
- 3-5kHzの明瞭さは子音の認識精度に直結

---

### 2. Gate (Ableton Live標準)

**役割**: 喋っていない時のノイズフロアをカット

**設定**:
```
Threshold: -40dB 〜 -30dB
  - 喋っていない時だけゲートが閉じるよう調整
  - 小声でも開くように注意

Return: Threshold より 5-10dB 低く
  - 例: Threshold -35dB なら Return -40dB

Attack: 短め（1-5ms）
  - 喋り始めで遅れないように

Release: 中間〜やや長め（100-300ms）
  - 自然に閉じる、語尾が切れないように

Hold: 50-100ms
  - 単語の途中でゲートが閉じないように
```

**調整のコツ**:
- Thresholdを下げすぎると、常にゲートが開いてノイズが入る
- 上げすぎると、小声が切れる
- 「あいうえお」を小声で喋って、途切れないか確認

---

### 3. NS1 (Waves Noise Suppressor)

**役割**: 環境ノイズ（エアコン、PCファン、ホワイトノイズ）の除去

**設定**:
```
Threshold: 50-70%（スライダー）
  - ノイズが消えるまでスライダーを上げる
  - やりすぎると声がこもる

調整手順:
  1. 0%から開始
  2. 少しずつスライダーを上げる
  3. ノイズが消えるポイントを見つける
  4. そこから少し戻す（やりすぎ防止）
```

**注意点**:
- Gateでノイズフロアをカットしているので、NS1は軽めでOK
- 80%以上にすると声が不自然になりやすい
- リアルタイムモニターしながら調整

**STTとの関係**:
- 環境ノイズはSTTが誤認識する原因（「サー」というノイズを言葉と誤認）
- NS1でノイズを除去することで、STTの精度が劇的に向上

---

### 4. 1176 (UAD Compressor)

**役割**: 瞬発的な音量差を抑える（速いコンプレッサー）

**設定**:
```
Ratio: 4:1
  - 自然なコンプレッション
  - STT用途では4:1が最適

Attack: 中間（3〜5）
  - 速すぎると不自然
  - 遅すぎると効果が薄い
  - STT用途では中間がベスト

Release: 中間（4〜6）
  - 自然な音
  - 次の言葉に影響しないように

Input: ゲインリダクション（GR）が -3dB 〜 -6dB 程度
  - GRメーターを見ながら調整
  - 軽めのコンプレッション

Output: バイパスと同音量になるよう調整
  - A/B比較して同じ音量に
```

**STTとの関係**:
- 大声と小声の音量差を抑える
- STTは音量が一定の方が認識精度が高い
- 子音の飛び出しを抑え、STTの誤認識を防ぐ

---

### 5. LA-2A (UAD Compressor)

**役割**: 全体を滑らかに整える（遅いコンプレッサー）

**設定**:
```
Peak Reduction: 3 〜 4
  - 中間的なコンプレッション
  - 1176との合わせ技

Compress / Limit: Compress
  - 通常はCompressモード

Gain: 出力音量を調整
  - バイパスと比較して同音量に
```

**1176との使い分け**:
- **1176**: 瞬発的な音量差（子音の飛び出し）を抑える
- **LA-2A**: 全体を滑らかに整える、温かみを加える

**合計のコンプレッション**:
- 1176: GR -3〜-5dB
- LA-2A: GR -3〜-4dB
- 合計: -6〜-10dB 程度が目安

**STTとの関係**:
- 音量を均一にすることで、STTが安定した音量で認識できる
- 小声でも認識率が向上

---

#### なぜコンプを2つ使うか（シリアルコンプレッション）

**シリアルコンプレッションとは**:
- 2つ以上のコンプレッサーを直列（シリアル）につなぐ手法
- プロの音楽制作、放送業界で標準的に使われる

**1つのコンプで強くかけるとダメな理由**:
```
1つのコンプで -10dB の圧縮をかけると:
  ❌ 音が潰れる
  ❌ 不自然なサウンド
  ❌ アーティファクト（歪み）が目立つ
```

**2つのコンプで分担すると自然**:
```
1176で -5dB + LA-2Aで -4dB = 合計 -9dB
  ✅ 各コンプの負担が軽い
  ✅ 自然なサウンド
  ✅ アーティファクトが少ない
```

**1176 → LA-2A の順番の意味**:

1. **1176（速いコンプ）が先**:
   - **役割**: 瞬発的なピーク（子音、語頭）を素早くキャッチ
   - **Attack**: 20μs〜800μs（非常に速い）
   - **効果**: 「さ」「た」「か」などの子音の飛び出しを抑える
   - **STT的意味**: 子音が過剰に強いと誤認識の原因になる

2. **LA-2A（遅いコンプ）が後**:
   - **役割**: 全体の音量を滑らかに整える
   - **Attack**: 10ms（やや遅い、自然）
   - **効果**: 1176で抑えきれなかった長い音量変化を滑らかに
   - **STT的意味**: 全体の音量を一定に保ち、STTの認識率を安定させる

**逆（LA-2A → 1176）にするとダメな理由**:
- LA-2Aは遅いので、瞬発的なピークを取りこぼす
- 取りこぼしたピークが1176に届き、1176が過剰反応する
- 結果、不自然なコンプレッションになる

**比喩**:
```
1176 = キャッチャーミット（速い球を受ける）
LA-2A = グローブ（滑らかに受け止める）

速い球（子音）→ キャッチャーミット → グローブ（整える）
```

---

#### UADバージョンの選び方（声質別）

**1176のバージョン**:

UADには複数の1176モデルがあります：

| モデル | 特徴 | 音の傾向 | 適した声質 |
|--------|------|---------|-----------|
| **1176 Rev A** | オリジナル、クリーン | 明瞭、クリア、速いリリース | 低めの声（50代男性など）、明瞭さが欲しい |
| **1176 Rev E** (Blue Stripe) | 中間モデル | やや暖かい、バランス型 | 中音域の声、バランス重視 |
| **1176AE** (Anniversary) | 最新、改良版 | 暖かい、やや遅いリリース | 高めの声（女性、若い男性）、温かみが欲しい |

**LA-2Aのバージョン**:

| モデル | 特徴 | 音の傾向 | 適した声質 |
|--------|------|---------|-----------|
| **LA-2A Gray** | オリジナル、T4光学素子 | 最も暖かい、遅いリリース | 高めの声、温かみ重視、クラシックなサウンド |
| **LA-2A Silver** | 改良版、改良光学素子 | より明瞭、やや速いリリース | 低めの声、明瞭さ重視、現代的なサウンド |
| **LA-3A** | トランジスタ版 | 速いアタック/リリース | 速い反応が欲しい、アグレッシブなサウンド |

**声質別おすすめ組み合わせ**:

**1. 低めのボイス（50代男性など）** ← あなたのケース
```
1176 Rev A + LA-2A Silver

理由:
- Rev A: クリーンで明瞭 → 低域を保ちつつ明瞭さを追加
- Silver: やや速いリリース → モゴモゴしない、クリアな音
- 低めの声は自然に温かみがあるので、明瞭さを優先
```

**2. 中間のボイス（30-40代男性）**
```
1176 Rev E + LA-2A Gray または Silver

理由:
- Rev E: バランス型、どんな声にも合う
- Gray/Silver: 好みで選択（温かみ vs 明瞭さ）
```

**3. 高めのボイス（女性、若い男性）**
```
1176AE + LA-2A Gray

理由:
- AE: 暖かいサウンド → 高い声の刺々しさを和らげる
- Gray: 最も暖かい → 滑らかで柔らかい印象に
```

**4. アグレッシブなサウンド（ラップ、実況など）**
```
1176 Rev A + LA-3A

理由:
- Rev A: 速いリリース、タイトな音
- LA-3A: 速いアタック、パンチがある
```

**試聴のコツ**:

1. **まず1176のバージョンを選ぶ**
   - 自分の声で「あいうえお」を喋る
   - Rev A / Rev E / AE を切り替えて聴き比べ
   - 「明瞭さ」と「温かみ」のバランスで選ぶ

2. **次にLA-2Aのバージョンを選ぶ**
   - Gray / Silver / LA-3A を切り替え
   - 全体の滑らかさをチェック

3. **組み合わせで最終調整**
   - 低めの声 → 明瞭さ重視（Rev A + Silver）
   - 高めの声 → 温かみ重視（AE + Gray）

**STT（音声認識）的には**:
- **明瞭さが重要** → Rev A + Silver の組み合わせが最も認識率が高い
- ただし、自然な音であることも重要なので、好みで調整

---

### 6. Renaissance DeEsser (Waves)

**役割**: サ行（歯擦音）の刺さりを抑える

**設定**:
```
Frequency: 6-8kHz
  - サ行の周波数帯域
  - 人によって調整（男性: 6kHz、女性: 7-8kHz）

Threshold: サ行のときだけ反応するよう調整
  - GRメーターが -3dB 〜 -6dB 程度

Mode: Wideband または Split
  - Wideband: 全体を少し下げる（自然）
  - Split: 高域のみ下げる（ピンポイント）

調整手順:
  1. 「さしすせそ」を繰り返し喋る
  2. Thresholdを下げて、サ行で反応するようにする
  3. やりすぎると「さしすせそ」が「はひふへほ」に聞こえる
  4. 自然に聞こえる範囲で調整
```

**STTとの関係**:
- サ行は高周波成分が強く、STTが誤認識しやすい
- 「さ」を「た」と誤認識、「し」を「ち」と誤認識するケースを防ぐ
- 適度に抑えることで、認識精度が向上

---

### 7. Limiter (Ableton Live標準)

**役割**: 音割れ防止、最終調整

**設定**:
```
Ceiling: -1dB
  - 絶対に超えない上限
  - 音割れを防ぐ

Release: 中間〜速め（50-200ms）
  - 自然な音

Gain: 必要に応じて調整
  - 全体の音量を最終調整

ゲインリダクション（GR）: -2〜-3dB 程度
  - 頻繁に反応するようなら、前段（コンプ）を見直す
  - たまにピークをカットする程度が理想
```

**STTとの関係**:
- 音割れはSTTの認識を著しく低下させる
- Limiterで確実に防ぐ
- STTシステムへの入力レベルを安定させる

---

## STT（音声認識）との関係

### なぜこのチェーンがSTTに効果的か

1. **ノイズ除去（GATE + NS1）**
   - 環境ノイズはSTTが誤認識する最大の原因
   - 無音部分を確実にカット

2. **音量の均一化（1176 + LA-2A）**
   - STTは音量が一定の方が認識精度が高い
   - 小声でも大声でも同じ認識率

3. **明瞭性の向上（EQ + DeEsser）**
   - 子音の明瞭さがSTTの精度を左右
   - サ行の過剰な高域をカット

4. **音割れ防止（Limiter）**
   - クリッピングはSTTの大敵
   - 安定した入力レベル

### STTシステムへの出力レベル

**推奨レベル**:
- **平均（RMS）**: -18dB 〜 -12dB
- **ピーク**: -6dB 〜 -3dB
- **絶対に超えない**: -1dB（Limiter設定）

**確認方法**:
```
Ableton Liveのマスタートラックでレベルメーターを確認
- 喋っている時: -12dB 〜 -6dB 程度
- ピーク: -3dB以下
- 無音時: -∞ dB（ゲートで完全カット）
```

### 三姉妹との対話で期待される効果

1. **認識精度の向上**
   - 誤認識が減る
   - 会話がスムーズに

2. **応答速度の向上**
   - クリアな音声 → STTが速く認識
   - レスポンスタイムの短縮

3. **自然な対話**
   - 小声でも認識される
   - 大声で怒っても音割れしない

---

## 調整のコツ

### 初回セットアップ手順

1. **マイクゲインの設定**（最重要）
   ```
   - オーディオインターフェースのゲインを調整
   - 喋った時に -12dB 〜 -6dB 程度がピーク
   - 赤ランプ（クリッピング）が点灯しないように
   ```

2. **エフェクトを1つずつ追加**
   ```
   ① EQのハイパスフィルターのみON → 確認
   ② GATE追加 → 無音時にノイズが消えるか確認
   ③ NS1追加 → 残ったノイズが消えるか確認
   ④ 1176追加 → 音量差が抑えられるか確認
   ⑤ LA-2A追加 → 滑らかになるか確認
   ⑥ DeEsser追加 → サ行が自然になるか確認
   ⑦ Limiter追加 → ピークが -1dB 以下か確認
   ```

3. **全体のバランス調整**
   - バイパスと比較して音質をチェック
   - 不自然な点があれば個別に調整

### 配信前のチェックリスト

毎回確認すべき項目：

- [ ] マイクゲインは適切か（-12dB 〜 -6dB）
- [ ] EQのハイパスは効いているか
- [ ] GATEは喋ってない時だけ閉じているか
- [ ] NS1でノイズは消えているか（やりすぎてないか）
- [ ] 1176のGRは -3〜-5dB 程度か
- [ ] LA-2AのGRは 3〜4 程度か
- [ ] DeEsserは自然に効いているか
- [ ] Limiterは頻繁に反応していないか
- [ ] 全体の出力レベルは -12dB 〜 -3dB 程度か

### よくある問題と対処法

**問題1: 声がこもる**
- 原因: NS1のやりすぎ
- 対処: NS1のThresholdを下げる（50%辺りに戻す）

**問題2: 語尾が切れる**
- 原因: GATEのReleaseが短すぎる
- 対処: Releaseを長くする（200-300ms）

**問題3: サ行が不自然（「さ」が「は」に聞こえる）**
- 原因: DeEsserのやりすぎ
- 対処: Thresholdを上げる（軽めに調整）

**問題4: 小声が認識されない**
- 原因: GATEのThresholdが高すぎる
- 対処: Thresholdを下げる（-40dB辺り）

**問題5: ノイズが完全に消えない**
- 原因: マイクゲインが高すぎる、または環境ノイズが大きい
- 対処:
  - マイクゲインを下げる
  - ノイズ源（エアコン、PC）を遠ざける
  - NS1のThresholdを上げる（ただし声がこもらない範囲で）

---

## トラブルシューティング

### STT認識率が低い場合

1. **ノイズ対策を見直す**
   - GATE, NS1の設定を再確認
   - 環境ノイズを減らす（エアコンOFF、PC静音化）

2. **音量を確認**
   - STTへの入力レベルが -18dB 〜 -6dB 程度か
   - 小さすぎる → Limiter後のゲインを上げる
   - 大きすぎる → マイクゲインを下げる

3. **明瞭性を向上**
   - EQで3-5kHzを +1〜+2dB ブースト
   - DeEsserをやりすぎていないか確認

4. **コンプレッションを調整**
   - 1176, LA-2Aのかけすぎで声が潰れていないか
   - GRが合計 -10dB 以下になるよう調整

### レイテンシー（遅延）が気になる場合

**原因**:
- プラグインの処理によるレイテンシー
- バッファサイズが大きい

**対処**:
1. **バッファサイズを下げる**（Ableton環境設定）
   - 128 samples または 256 samples に設定
   - ただし、CPUに負荷がかかる

2. **低レイテンシープラグインを使う**
   - NS1: レイテンシーが少ない（問題なし）
   - UAD: DSPチップで処理（レイテンシー小）
   - RDeEsser: やや大きい（気になる場合はLispなどに変更）

3. **ダイレクトモニタリングを使う**
   - オーディオインターフェースのダイレクトモニター機能
   - ただし、エフェクト後の音は聞こえない

---

## プリセット保存方法

### Ableton Liveでチェーン全体を保存

1. **全エフェクトを選択**
   - 最初のEQ Eightから最後のLimiterまでドラッグ選択

2. **プリセットとして保存**
   - 左側ブラウザの「Audio Effects」にドラッグ
   - 名前を付けて保存
     - 例: `STT Vocal Chain - Sisters Dialogue`

3. **次回から1クリックで呼び出し**
   - 保存したプリセットをトラックにドラッグ

### バックアップ

定期的にプロジェクトファイルをバックアップ:
```bash
# Ableton Liveのプロジェクトファイル (.als) を保存
# User Library も含めてバックアップ
```

---

## 参考情報

### 使用プラグイン一覧

| プラグイン | 価格 | 用途 |
|-----------|------|------|
| EQ Eight | 無料（Ableton付属） | ハイパスフィルター、明瞭性向上 |
| Gate | 無料（Ableton付属） | ノイズフロアカット |
| Waves NS1 | $29〜（セール時） | 環境ノイズ除去 |
| UAD 1176 | Native動作（サブスク or 買い切り） | 速いコンプレッション |
| UAD LA-2A | Native動作（サブスク or 買い切り） | 滑らかなコンプレッション |
| Waves RDeEsser | $29〜（セール時） | サ行処理 |
| Limiter | 無料（Ableton付属） | 音割れ防止 |

### 代替プラグイン

**予算がない場合**:
- **NS1の代わり**: Bertom Denoiser Free
- **RDeEsserの代わり**: Lisp (無料)、または Multiband Dynamics
- **1176/LA-2Aの代わり**: Ableton標準のCompressor（2つ直列）

**Ableton標準のみで構成**:
```
EQ Eight → Gate → Compressor (速め) → Compressor (遅め)
→ Multiband Dynamics (高域のみコンプ) → Limiter
```

### 関連ドキュメント

- `docs/01_philosophy/プロジェクトの本質.md` - 三姉妹プロジェクトの理念
- `docs/03_system/システムコンセプト.md` - システム全体の設計
- `/home/koshikawa/kirinuki/2025-11-11/三姉妹プロフィール_LINE Bot用.md` - 三姉妹の詳細設定

---

## 更新履歴

| 日付 | 更新内容 |
|------|---------|
| 2025-11-15 | 初版作成。実際の使用経験に基づいたエフェクトチェーン設定を記録 |
| 2025-11-15 | UADプラグインがNative動作（ハードウェア不要）になったことを反映 |
| 2025-11-15 | NS1のUIがスライダーに変更されたことを反映 |
| 2025-11-15 | シリアルコンプレッションの理論とUADバージョン選択ガイドを追加 |

---

**🤖 Generated with Claude Code (クロコ)**

Co-Authored-By: Claude <noreply@anthropic.com>
